## PreviewCanvas 颜色实时更新问题修复方案

### 问题分析

通过检查代码发现以下可能导致颜色不更新/无视觉变化的问题：

1. **版本订阅不完整**：`PreviewCanvas` 只订阅了 `tokens`、`ui` 和 `selectedComponent`，但没有订阅 `version`。虽然 `ui` 包含 `version`，但可能存在引用问题

2. **样式函数在组件内部调用**：`getCanvasStyles`、`getButtonStyles`、`getCardStyles` 在每次渲染时重新计算，但没有明确的版本依赖

3. **CanvasBackground 订阅分散**：分别订阅 `tokens`、`ui.version`、`ui.showNoise`，可能影响更新效率

4. **版本号递增后组件可能未重新渲染**：需要确保 store 状态变更能正确触发 React 重新渲染

### 修复方案

1. **在 PreviewCanvas 中添加 version 订阅**：
   - 显式订阅 `version` 状态，确保版本变化触发重渲染

2. **使用 useMemo 包装样式计算**：
   - 将 `canvasStyles`、`buttonStyles`、`cardStyles` 用 useMemo 包装
   - 添加 `tokens` 和 `version` 作为依赖项
   - 确保样式随版本变化实时更新

3. **优化 CanvasBackground 订阅**：
   - 合并为单一订阅，减少渲染开销

### 修改文件
- `components/preview/PreviewCanvas.tsx`
- `components/preview/CanvasBackground.tsx`

### 预期效果
- 选择 Background 颜色后，canvas 背景立即更新
- 选择 Accent 颜色后，按钮背景实时变化
- 选择 Surface 颜色后，卡片背景正确应用
- 整体响应速度提升，无延迟感